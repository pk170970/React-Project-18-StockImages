{"version":3,"sources":["Photo.js","App.js","index.js"],"names":["Photo","image","regular","urls","alt_description","likes","user","name","portfolio_url","medium","profile_image","className","src","alt","href","clientID","process","App","useState","loading","setLoading","images","setImages","search","setSearch","page","setPage","fetchImg","pageQuery","query","url","fetch","response","json","data","prevData","results","console","log","useEffect","event","window","addEventListener","innerHeight","scrollY","document","body","scrollHeight","prev","removeEventListener","onSubmit","e","preventDefault","type","placeholder","onChange","target","value","map","index","ReactDOM","createRoot","getElementById","render","StrictMode"],"mappings":"oQA8BeA,EA5BD,SAAH,GAAmB,IAAbC,EAAK,EAALA,MAELC,EAQND,EARFE,KAAQD,QACRE,EAOEH,EAPFG,gBACAC,EAMEJ,EANFI,MAAM,EAMJJ,EALFK,KACEC,EAAI,EAAJA,KACAC,EAAa,EAAbA,cACiBC,EAAM,EAAvBC,cAAiBD,OAIrB,OACE,0BAASE,UAAU,QAAO,UACxB,qBAAKC,IAAKV,EAASW,IAAKT,IACxB,sBAAKO,UAAU,aAAY,UACzB,gCACE,6BAAKJ,IACL,8BAAIF,EAAM,eAEZ,mBAAGS,KAAMN,EAAc,SACrB,qBAAKI,IAAKH,EAAQI,IAAKN,EAAMI,UAAU,oBAKjD,ECzBMI,EAAQ,qBAAiBC,+CA6FhBC,MAxFf,WACE,MAA8BC,oBAAS,GAAM,mBAAtCC,EAAO,KAAEC,EAAU,KAC1B,EAA4BF,mBAAS,IAAG,mBAAjCG,EAAM,KAAEC,EAAS,KACxB,EAA4BJ,mBAAS,IAAG,mBAAjCK,EAAM,KAAEC,EAAS,KACxB,EAAwBN,mBAAS,GAAE,mBAA5BO,EAAI,KAAEC,EAAO,KAEdC,EAAQ,iDAAG,sGAYI,OATbC,EAAS,gBAAYH,GACrBI,EAAK,iBAAaN,GAGtBO,EADEP,EACC,UAfM,2CAeS,OAAGR,GAAQ,OAAGa,GAAS,OAAGC,GAEzC,UAlBI,oCAkBS,OAAGd,GAAQ,OAAGa,GAC/B,SAECR,GAAW,GAAM,SACMW,MAAMD,GAAK,KAAD,EAAnB,OAARE,EAAQ,iBACKA,EAASC,OAAO,KAAD,GAA5BC,EAAI,OAEVZ,GAAU,SAACa,GACT,OAAIZ,GAAmB,IAATE,EACLS,EAAKE,QAEN,GAAN,mBAAWD,GADFZ,EACU,YAAKW,EAAKE,SAEV,YAAKF,GAE5B,IACAd,GAAW,GAAO,kDAElBiB,QAAQC,IAAI,EAAD,IAAQ,0DAEtB,kBA7Ba,mCAoDd,OArBAC,qBAAU,WACRZ,IACA,IAAMa,EAAQC,OAAOC,iBAAiB,UAAU,YAE3CvB,GACDsB,OAAOE,YAAcF,OAAOG,SAAWC,SAASC,KAAKC,cAErDrB,GAAQ,SAACsB,GAAI,OAAKA,EAAO,CAAC,GAE9B,IACA,OAAO,kBAAMP,OAAOQ,oBAAoB,SAAUT,EAAO,CAC3D,GAAG,CAACf,IAWF,iCACE,qBAAKd,UAAU,gBAAe,SAC5B,6BAAI,kCAEN,yBAASA,UAAU,SAAQ,SACzB,uBAAMA,UAAU,cAAcuC,SAbpC,SAAsBC,GACpBA,EAAEC,iBACF1B,EAAQ,GACRC,GAEF,EAQ2D,UACnD,uBACE0B,KAAK,OACL1C,UAAU,aACV2C,YAAY,SACZC,SAAU,SAACJ,GAAC,OAAK3B,EAAU2B,EAAEK,OAAOC,MAAM,IAE5C,wBAAQ9C,UAAU,aAAa0C,KAAK,SAAQ,SAC1C,cAAC,IAAQ,WAIf,0BAAS1C,UAAU,SAAQ,UACzB,qBAAKA,UAAU,gBAAe,SAC3BU,EAAOqC,KAAI,SAACzD,EAAO0D,GAClB,OAAO,cAAC,EAAK,CAAa1D,MAAOA,GAAd0D,EACrB,MAEDxC,GAAW,oBAAIR,UAAU,UAAS,SAAC,oBAI5C,ECzFaiD,IAASC,WAAWhB,SAASiB,eAAe,SACpDC,OACH,cAAC,IAAMC,WAAU,UACf,cAAC,EAAG,M","file":"static/js/main.1a892b11.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Photo = ({ image }) => {\n  const {\n    urls: { regular },\n    alt_description,\n    likes,\n    user: {\n      name,\n      portfolio_url,\n      profile_image: { medium }\n    }\n  } = image;\n\n  return (\n    <article className=\"photo\">\n      <img src={regular} alt={alt_description} />\n      <div className=\"photo-info\">\n        <div>\n          <h4>{name}</h4>\n          <p>{likes} likes</p>\n        </div>\n        <a href={portfolio_url}>\n          <img src={medium} alt={name} className=\"user-img\" />\n        </a>\n      </div>\n    </article>\n  );\n};\n\nexport default Photo;\n","import React, { useState, useEffect } from \"react\";\nimport { FaSearch } from \"react-icons/fa\";\nimport Photo from \"./Photo\";\nconst clientID = `?client_id=${process.env.REACT_APP_ACCESS_KEY}`;\n\nconst mainUrl = `https://api.unsplash.com/photos/`;\nconst searchUrl = `https://api.unsplash.com/search/photos/`;\n\nfunction App() {\n  const [loading, setLoading] = useState(false);\n  const [images, setImages] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [page, setPage] = useState(0);\n\n  const fetchImg = async () => {\n    let url;\n\n    const pageQuery = `&page=${page}`;\n    const query = `&query=${search}`;\n\n    if (search) {\n      url = `${searchUrl}${clientID}${pageQuery}${query}`;\n    } else {\n      url = `${mainUrl}${clientID}${pageQuery}`;\n    }\n    try {\n      setLoading(true);\n      const response = await fetch(url);\n      const data = await response.json();\n\n      setImages((prevData) => {\n        if (search && page === 1) {\n          return data.results;\n        } else if (search) {\n          return [...prevData, ...data.results];\n        } else {\n          return [...prevData, ...data];\n        }\n      });\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    fetchImg();\n    const event = window.addEventListener(\"scroll\", () => {\n      if (\n        !loading &&\n        window.innerHeight + window.scrollY >= document.body.scrollHeight\n      ) {\n        setPage((prev) => prev + 1);\n      }\n    });\n    return () => window.removeEventListener(\"scroll\", event);\n  }, [page]);\n  // fetchImg()\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    setPage(1);\n    fetchImg();\n    // fetchImg(`${searchUrl}${search}`);\n  }\n\n  return (\n    <main>\n      <div className=\"section-title\">\n        <h1>Random Images from Unsplash</h1>\n      </div>\n      <section className=\"search\">\n        <form className=\"search-form\" onSubmit={handleSubmit}>\n          <input\n            type=\"text\"\n            className=\"form-input\"\n            placeholder=\"search\"\n            onChange={(e) => setSearch(e.target.value)}\n          />\n          <button className=\"submit-btn\" type=\"submit\">\n            <FaSearch />\n          </button>\n        </form>\n      </section>\n      <section className=\"photos\">\n        <div className=\"photos-center\">\n          {images.map((image, index) => {\n            return <Photo key={index} image={image} />;\n          })}\n        </div>\n        {loading && <h2 className=\"loading\">Loading...</h2>}\n      </section>\n    </main>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"sourceRoot":""}